<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> 
<html> 
<head> 
	<title>local pic test</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
	<meta name='viewport' content="initial-scale=1 maximum-scale=1 user-scalable=no width=device-width">
</head> 
<body> 
	<h1>转至 C:\xampp\htdocs\test</h1>
	<form action=""> 
		<input type="file" name="imgOne" id="imgOne" multiple /> 
		<img id="imgPre" src="" width="300px" style="" /> 
	</form> 
	<script type="text/javascript"> 
/** 
* 从 file 域获取 本地图片 url 
*/ 
function getFileUrl(sourceId) {
	var url;
	if (navigator.userAgent.indexOf("MSIE") >= 1) { // IE 
		url = document.getElementById(sourceId).value;
	} else if (navigator.userAgent.indexOf("Firefox") > 0) { // Firefox 
		url = window.URL.createObjectURL(document.getElementById(sourceId).files.item(0));
	} else if (navigator.userAgent.indexOf("Chrome") > 0) { // Chrome 
		url = window.URL.createObjectURL(document.getElementById(sourceId).files.item(0))
	}else {git
		url = window.URL.createObjectURL(document.getElementById(sourceId).files.item(0))
	}
	console.log('files',document.getElementById(sourceId).files)
	return url;
}

/** 
 * 将本地图片 显示到浏览器上 
 */
 function preImg(sourceId, targetId) {
 	var url = getFileUrl(sourceId);
 	alert('pic add:'+url)
 	var imgPre = document.getElementById(targetId);
 	imgPre.src = url;
	// alert(imgPre.src)
}

var ImgOne = document.querySelector('#imgOne')
console.log('ImgOne',ImgOne)
ImgOne.onchange = function() {
	// alert(this.id)
	// console.log('remote',this.id)
	preImg(this.id, 'imgPre')
}
</script> 
</body> 
</html> 